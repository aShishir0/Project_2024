{%load static%}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Profile Page</title>
    <link rel="stylesheet" href="{% static 'css/recipe_detail.css' %}" />
    <style>
       #pppp {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        object-fit: cover;
        cursor: pointer;
      }
    </style>
</head>
<body>
    <header id="header">
        <a href="{% url 'index' %}"><img class="logo" src="{%static 'img/assests/flogo.png'%}"></a>
        <div class="search_box">
            <input type="text" placeholder="I am craving....">
            <button class = "search-btn"><ion-icon name="search"></ion-icon></button>
            <a href="#"></a>
        </div>
        <div class="sidekoelements">
          {% if user.is_authenticated %}
              <button id="notification-btn" class="hideOnMobile"><ion-icon name="notifications"></ion-icon></button>
              <a href="{% url 'bookmark' %}"><button id="bookmark-btn" class="hideOnMobile"><ion-icon name="bookmark"></ion-icon></button></a>
              <div class="profile-icon" onclick="menuToggle()" >
                <img class="img__container" id = "pppp" src="{% if user.profile.picture %}{{ user.profile.picture.url }}{% else %}{% static 'img/profile/default.png' %}{% endif %}" alt="Profile Picture">
              </div>
          {% else %}
              <button id="login-btn-popup" class="hideOnMobile"><ion-icon name="person"></ion-icon></button>
          {% endif %}
          <button id="menu"><ion-icon name="menu-outline"></ion-icon></button>
      </div>
        
    </header>
    <nav class="sidebar" id="sidebar">
        <button id="close-sidebar"><ion-icon name="close"></ion-icon></button>
        <a href="#">Popular</a>
        <a href="#">Meals</a>
        <a href="#">Ocassions</a>
        <a href="#">Cusines</a>
        <a href="#">Seasonal</a>
        <a href="#">Kitchen Wares</a>
        <a href="#">Contact Us</a>
        <button id="notification-btn-sb"><ion-icon name="notifications"></ion-icon></button>
        <a href="{% url 'bookmark' %}"><button id="bookmark-btn"><ion-icon name="bookmark"></ion-icon></button></a>
        <button id="login-btn-popup-sb"><ion-icon name="person"></ion-icon></button>
    </nav>
    <div class="information">
        <div class="upper">
            <h1 class="title">Pancake</h1>
            <div class="rating">★★★★★</div>
            <div class="author">
                <a href="{% url 'profile' %}"><img src="{{user.profile.picture.url }}" alt="profile" class="avatar"></a>
                <a class="name" href="{% url 'profile' %}"><span class="name">{{user.username}}</span></a>
            </div>
            <p class="description">
                A pancake (or hotcake, griddlecake, or flapjack) is a flat cake, often thin and round, prepared from a starch-based batter that may contain eggs, milk and butter, and then cooked on a hot surface such as a griddle or frying pan.
            </p>
        </div>
        <div class="foodPic">
            <img src="{%static 'img/assests/1.jpg'%}" alt="">
            <div class="icons">
                <ion-icon name="bookmark"></ion-icon>
                <ion-icon name="share-social"></ion-icon>
            </div>
        </div>
        <div class="cookingDetails">
            <div class="info">
                <li>
                    <ion-icon name="timer"></ion-icon>
                    <p>Preparation Time: 30 Minutes</p>
                </li>
                <li>
                    <ion-icon name="timer"></ion-icon>
                    <p>Cooking Time: 30 Minutes</p>
                </li>
                <li>
                    <ion-icon name="restaurant"></ion-icon>
                    <p>Ingredients: 8</p>
                </li>           
            </div>
        </div>
        </div>
        <div class="steps">
            <div class="directions">
                <h2>PREPARATION</h2>
                <ul>
                    <li>
                        <div class="video-container">
                            <video src="{%static 'img/assests/3 Ingredient Pancakes.mp4'%}" autoplay loop muted></video>
                            <div class="side">
                                <p> Make the recipe with us</p>
                                <button class="vidExpand"><ion-icon name="play-circle-outline"></ion-icon>Watch</button>
                            </div>
                        </div>
                    </li>
                    <li>
                        <h3>Step 1</h3>
                        <span class="step-content">
                            <img src="{%static 'img/assests/step1.png'%}" alt="Pancakes">
                            <button class="expand"><ion-icon name="expand-outline"></ion-icon></button>
                        </span>
                        <p>Heat a griddle or large skillet over medium-low heat. In a bowl, mix together dry ingredients. Beat eggs into 1½ cups milk, then stir in melted butter. Stir wet ingredients into dry ingredients, mixing until just combined. If the batter seems too thick, add a little more milk. The batter should be somewhat lumpy.</p>

                    </li>
                    <li>
                        <h3>Step 2</h3>
                        <span class="step-content">
                            <img src="{%static 'img/assests/step2.png'%}" alt="Pancakes">
                            <button class="expand"><ion-icon name="expand-outline"></ion-icon></button>
                        </span>
                        <p>Place a teaspoon or 2 of butter or oil on griddle or skillet. When butter foam subsides or oil shimmers, ladle batter onto griddle or skillet, making pancakes of any size you like. Adjust heat as necessary; usually, first batch will require higher heat than subsequent batches. Flip pancakes after bubbles rise to surface and bottoms brown, after 2 to 4 minutes.</p>

                    </li>
                    <li>
                        <h3>Step 3</h3>
                        <span class="step-content">
                            <img src="{%static 'img/assests/step3.png'%}" alt="Pancakes">
                            <button class="expand"><ion-icon name="expand-outline"></ion-icon></button>
                        </span>
                        <p>Cook until second side is lightly browned. Serve, or hold on an ovenproof plate in a 200-degree oven for up to 15 minutes.</p>

                    </li>
                </ul>
            </div>
            <div class="ingredientsDetails">
                <h2>INGREDIENTS:</h2>
                <h3>Quantity</h3>
                <ul>
                    <li>All-purpose flour<span class="quantity">1 cup</span></li>
                    <li>Sugar<span class="quantity">2 tablespoon</span></li>
                    <li>Baking powder<span class="quantity">1 teaspoon</span></li>
                    <li>Salt<span class="quantity">1 tablespoon</span></li>
                    <li>Milk<span class="quantity">1 cup</span></li>
                    <li>Egg<span class="quantity">1</span></li>
                    <li>Butter or oil (for cooking)<span class="quantity">2 tablespoon</span></li>
                    <li>Optional: vanilla extract</li>
                </ul>
            </div>
        </div>
        <div class="comment_reviewSection">
            <div class="questions-replies">
                <h2>Questions and Replies</h2>
                <div class="search-bar">
                    <img src="{%static 'img/profile/default.png'%}" alt="" class="avatar">
                    <input class="inputPlace" type="text" placeholder="ask a question...">
                    <button class="button">SIGN IN</button>
                </div>
                <div class="question">
                    <img src="{%static 'img/profile/profile3.jpg'%}" alt="User Avatar" class="avatar">
                    <p>What's your preferred method for achieving the perfect pancake flip? Do you prefer a swift and confident wrist flick?</p>
                </div>
            </div>
            <div class="reviews">
                <h2>Reviews</h2>
                <div class="review">
                    <img src="{%static 'img/profile/default.png'%}" alt="Reviewer" class="avatar">
                    <div class="review-content-user">
                        <input class="inputPlace" type="text" placeholder="Leave a review...">
                        <div class="review-rating">
                            <ion-icon name="star"></ion-icon>
                            <ion-icon name="star"></ion-icon>
                            <ion-icon name="star"></ion-icon>
                            <ion-icon name="star"></ion-icon>
                            <ion-icon name="star"></ion-icon>
                        </div>
                    </div>
                    <button class="button-review">SIGN IN</button>
                </div>
                <div class="review">
                    <img src="{%static 'img/profile/profile4.jpg'%}" alt="Reviewer" class="avatar">
                    <div class="review-content">
                        <p>His teaching of the pancake cooking process was clear, concise, and resulted in perfectly fluffy pancakes every time.</p>
                        <div class="review-rating">
                            <ion-icon name="star"></ion-icon>
                            <ion-icon name="star"></ion-icon>
                            <ion-icon name="star"></ion-icon>
                            <ion-icon name="star"></ion-icon>
                            <ion-icon name="star"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="video-fullview">
        <div class="close-btn"><ion-icon name="close-outline"></ion-icon></div>
        <div class="content">
            <video src="{%static 'img/assests/3 Ingredient Pancakes.mp4'%}" controls></video>
        </div>
    </div>
    <div class="step-fullview">
      <div class="close-btn"><ion-icon name="close-outline"></ion-icon></div>
      <div class="content">
          <img src="{%static 'img/assests/step2.png'%}"></img>
          <h3>Step 1</h3>
          <p>Heat a griddle or large skillet over medium-low heat. In a bowl, mix together dry ingredients. Beat eggs into 1½ cups milk, then stir in melted butter. Stir wet ingredients into dry ingredients, mixing until just combined. If the batter seems too thick, add a little more milk. The batter should be somewhat lumpy.</p>
      </div>
    </div>


    <script src="js/profile.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
      const vidExpandBtn = document.querySelector('.vidExpand');
      const videoFullView = document.querySelector('.video-fullview');
      const closeBtn = document.querySelector('.close-btn');
      const video = document.querySelector('.video-fullview video');
      const stepExpandBtns = document.querySelectorAll('.expand');
      const stepFullView = document.querySelector('.step-fullview');
      const StepcloseBtn = document.querySelector('.step-fullview .close-btn');

      stepExpandBtns.forEach(function(btn) {
        btn.addEventListener('click', function() {
            stepFullView.style.display = 'flex';
        });
    });

      StepcloseBtn.addEventListener('click', function() {
        stepFullView.style.display = 'none';
    });
  
      vidExpandBtn.addEventListener('click', () => {
          videoFullView.style.display = 'block';
      });
  
      closeBtn.addEventListener('click', () => {
          videoFullView.style.display = 'none';
          video.pause(); // Pause the video playback when the container is closed
      });
  </script>
  
</body>
</html>
